---
import SectionTitle from "../Text/SectionTitle/SectionTitle";
import SkillsCard from "./SkillsCard.astro";
---

<section
  id="skills"
  class="relative min-h-screen pt-[var(--header-height)] pb-[var(--footer-height)] overflow-hidden snap-start flex flex-col gap-8"
>
  <SectionTitle client:visible title="My Front-End Toolbox .Â " />
  <div
    class="toolbox_wrapper relative inset-0 flex flex-col gap-4 xl:gap-12 justify-center items-center grow"
  >
    <SkillsCard />

    <div class="separator w-[50%] h-0.5 my-12 hidden md:block"></div>
    <p
      class="px-[20vw] text-xl md:text-2xl xl:text-4xl text-center hidden md:block"
    >
      I am constantly refining my craft and pushing my abilities to create
      captivating web experiences. With a passion for building fast, responsive,
      and user-friendly websites, I'm excited to collaborate and bring your web
      visions to life!
    </p>
  </div>
</section>

<style>
  .toolbox_wrapper {
    margin-inline: auto;
  }

  p {
    max-width: 80ch;
    line-height: 1.3;
    letter-spacing: -0.1rem;
    font-weight: 200;
  }

  .separator {
    background-color: var(--border-primary);
  }
</style>

<!-- Animation Script -->
<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  gsap.registerPlugin(ScrollTrigger);

  revealCards();

  function revealCards() {
    const cards = document.querySelectorAll("#skills .cards-wrapper .card");

    cards.forEach((card, i) => {
      let tl = gsap.timeline({
        delay: 0.2 * i,
        scrollTrigger: "#skills .cards-wrapper",
      });
      tl.fromTo(
        card,
        {
          y: 100,
          opacity: 0,
        },
        {
          y: 0,
          opacity: 1,
          duration: 0.5,
          ease: "power4.out",
        },
      );
      tl.eventCallback("onComplete", () => {
        tl.kill();
      });
    });
  }
</script>
